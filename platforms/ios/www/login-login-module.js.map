{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEJ;AAEzC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;AAWF;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAT3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB5B,+1CAA+1C,mBAAmB,GAAG,2BAA2B,KAAK,gBAAgB,4b;;;;;;;;;;;ACAr6C,6FAA6F,eAAe,EAAE,gBAAgB,uBAAuB,EAAE,iBAAiB,kBAAkB,EAAE,cAAc,8BAA8B,mBAAmB,EAAE,kBAAkB,kCAAkC,gCAAgC,EAAE,0CAA0C,cAAc,iCAAiC,qBAAqB,EAAE,kBAAkB,uBAAuB,EAAE,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtb;AACZ;AACC;AACiB;AAOhE;IAOE,mBACU,WAAwB,EACxB,OAAsB,EACtB,IAAY,EACZ,GAAiB;QAJ3B,iBAMC;QALS,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,SAAI,GAAJ,IAAI,CAAQ;QACZ,QAAG,GAAH,GAAG,CAAc;QAV3B,WAAM,GAAQ,EAAE,CAAC;QACjB,aAAQ,GAAW,EAAE,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QACtB,SAAI,GAAW,EAAE,CAAC;QAClB,uBAAkB,GAAW,EAAE,CAAC;QAChC,YAAO,GAAW,4BAA4B,CAAC;QAmD/C,UAAK,GAAG;YACN,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,IAAI,EAAE,IAAI,KAAI,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC9C,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;YACrD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC/B,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;YACtD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC/B,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;YACtD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBAC7C,IAAI,WAAW,GAAG;oBAChB,SAAS,EAAE,cAAc;oBACzB,aAAa,EAAE,KAAI,CAAC,QAAQ;oBAC5B,gBAAgB,EAAE,KAAI,CAAC,QAAQ;iBAChC;gBACD,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAO,MAAM;;;;;gCAC9D,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;qCAC1B,CAAC,MAAM,CAAC,UAAU,CAAC,EAAnB,wBAAmB;gCACN,qBAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;;gCAA3E,QAAQ,GAAG,SAAgE;gCAC/E,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oCACb,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gCAC/B,CAAC;;;gCAED,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;;;;;qBAG3D,EAAE,UAAC,GAAG;oBACL,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;oBAC9B,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;wBACd,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjG,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;oBACvD,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;IA9ED,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAEK,gCAAY,GAAlB;;;;;;wBACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACnB,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAClC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;wBACnB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBACpC,qBAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;;wBAA1D,SAA0D,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;;;;;KACzC;IAED,6BAAS,GAAT;QAAA,iBAkBC;QAjBC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;QAEjD,IAAI,WAAW,GAAG;YAChB,SAAS,EAAE,oBAAoB;SAChC;QACD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YAC7D,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;YAC9B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAC3B,CAAC,EAAE,UAAC,GAAG;YACL,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBACd,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACjG,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;YACvD,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAkB,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;QACrD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IAvDU,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;;;SAGtB,CAAC;yCASuB,yDAAW;YACf,4DAAa;YAChB,oDAAM;YACP,6EAAY;OAXhB,SAAS,CA6FrB;IAAD,gBAAC;CAAA;AA7FqB","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-content padding>\\n\\n    <ion-grid>\\n        <ion-row>\\n    \\n            <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"6\\\">\\n                <ion-item>\\n                    <img class=\\\"logoImg\\\" [src]=\\\"appLogo\\\" />\\n                  </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"6\\\">\\n                <ion-item class=\\\"margin-bottom\\\" margin-top>\\n                    <ion-icon slot=\\\"start\\\" name=\\\"person\\\"></ion-icon>\\n                    <ion-input [(ngModel)]=\\\"username\\\" placeholder=\\\"USERNAME OR EMAIL ADDRESS\\\"></ion-input>\\n                  </ion-item>\\n              \\n                  <ion-item class=\\\"margin-bottom\\\">\\n                    <ion-icon slot=\\\"start\\\" name=\\\"lock\\\"></ion-icon>\\n                    <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"PASSWORD\\\"></ion-input>\\n              \\n                  </ion-item>\\n              \\n                  <ion-item class=\\\"margin-bottom\\\">\\n                    <ion-icon class=\\\"select-pin\\\" slot=\\\"start\\\" name=\\\"pin\\\"></ion-icon>\\n                    <ion-select [(ngModel)]=\\\"city\\\" interface=\\\"popover\\\" (ionChange)=\\\"changeApiUrl()\\\" placeholder=\\\"SELECT CITY\\\">\\n                      <ion-select-option *ngFor=\\\"let city of cities\\\" value=\\\"{{city.city_api_url}}|{{city.forgot_password_link}}\\\">{{city.city_name}}</ion-select-option>\\n                    </ion-select>\\n                  </ion-item>\\n              \\n                  <ion-button class=\\\"loginButton\\\" expand=\\\"block\\\" size=\\\"large\\\" (click)=\\\"login()\\\">LOGIN</ion-button>\\n                  <ion-button class=\\\"forget-link\\\" (click)=\\\"openForgotPassword()\\\">FORGOT YOUR PASSWORD?</ion-button>\\n            </ion-col>\\n    \\n        </ion-row>\\n        </ion-grid> \\n  \\n\\n\\n</ion-content>\"","module.exports = \".item-interactive.sc-ion-label-md-h, .item-interactive .sc-ion-label-md-h {\\n  z-index: 9; }\\n\\n.input-box {\\n  position: relative; }\\n\\n.select-pin {\\n  margin-top: 0; }\\n\\n.logoImg {\\n  max-width: 85% !important;\\n  margin: 0 auto; }\\n\\n.forget-link {\\n  --box-shadow: none !important;\\n  box-shadow: none !important; }\\n\\n@media screen and (min-width: 576px) {\\n  .logoImg {\\n    max-width: 100% !important;\\n    margin: 0 auto; }\\n  .loginButton {\\n    margin-top: 25px; } }\\n\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { NavController } from '@ionic/angular';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  cities: any = [];\n  username: string = '';\n  password: string = '';\n  city: string = '';\n  forgotPasswordLink: string = '';\n  appLogo: string = 'assets/icon/login_logo.png';\n  constructor(\n    private restService: RestService,\n    private navCtrl: NavController,\n    private zone: NgZone,\n    private iab: InAppBrowser\n  ) {\n  }\n\n  ngOnInit() {\n    this.getCities();\n  }\n\n  async changeApiUrl() {\n    console.log(this.city);\n    let fglink = this.city.split(\"|\");\n    console.log(fglink)\n    this.forgotPasswordLink = fglink[1];\n    await this.restService.setStorage(\"cityApiUrl\", fglink[0]);\n    this.restService.cityApiUrl = fglink[0];\n    console.log(this.restService.cityApiUrl)\n  }\n\n  getCities() {\n    this.restService.showLoader('Loading cities...');\n    \n    let requestData = {\n      sp_action: \"sp_lpr_cities_list\"\n    }\n    this.restService.makeCommonGetRequest(requestData).then((result) => {\n      this.restService.hideLoader();\n      this.cities = result['CityApiList'];\n      console.log(this.cities);\n    }, (err) => {\n      this.restService.hideLoader();\n      if (err.error) {\n        this.restService.showAlert(\"Notice\", this.restService.setErrorMessageArray(err.error.message));\n      } else {\n        this.restService.showAlert(\"Notice\", err.statusText);\n      }\n    });\n  }\n\n  openForgotPassword() {\n    if (this.city == '' || this.city == undefined) {\n      this.restService.showToast('Please select a city');\n    } else {\n      this.iab.create(this.forgotPasswordLink);\n    }\n  }\n\n  login = () => {\n    if (this.city == '' || this.city == undefined) {\n      this.restService.showToast('Please select a city');\n    } else if (this.username == '') {\n      this.restService.showToast('Please enter username');\n    } else if (this.password == '') {\n      this.restService.showToast('Please enter password');\n    } else {\n      this.restService.showLoader('Logging in...');\n      let requestData = {\n        sp_action: \"sp_lpr_login\",\n        sp_user_login: this.username,\n        sp_user_password: this.password\n      }\n      this.restService.makePostRequest(requestData).then(async (result) => {\n        this.restService.hideLoader();\n        if (!result['sp_error']) {\n          let response = await this.restService.setStorage(\"userInfo\", result['sp_user']);\n          if (response) {\n            this.navCtrl.goRoot(\"/home\");\n          }\n        } else {\n          this.restService.showAlert('Error', result['sp_error']);\n        }\n\n      }, (err) => {\n        this.restService.hideLoader();\n        if (err.error) {\n          this.restService.showAlert(\"Notice\", this.restService.setErrorMessageArray(err.error.message));\n        } else {\n          this.restService.showAlert(\"Notice\", err.statusText);\n        }\n      });\n    }\n  }\n\n}\n"],"sourceRoot":""}