{"version":3,"sources":["webpack:///./src/app/camera-preview/multiple-pics/multiple-pics.module.ts","webpack:///./src/app/camera-preview/multiple-pics/multiple-pics.page.html","webpack:///./src/app/camera-preview/multiple-pics/multiple-pics.page.scss","webpack:///./src/app/camera-preview/multiple-pics/multiple-pics.page.ts"],"names":[],"mappings":"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","file":"camera-preview-multiple-pics-multiple-pics-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MultiplePicsPage } from './multiple-pics.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MultiplePicsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MultiplePicsPage]\n})\nexport class MultiplePicsPageModule {}\n","module.exports = \"<ion-content>\\n  <ion-button *ngIf=\\\"isFlashMode\\\" class=\\\"flash\\\" (click)=\\\"manageFlashMode()\\\">\\n    <ion-icon slot=\\\"icon-only\\\" name=\\\"flash\\\"></ion-icon>\\n  </ion-button>\\n  <ion-button *ngIf=\\\"!isFlashMode\\\" class=\\\"flash\\\" (click)=\\\"manageFlashMode()\\\">\\n    <ion-icon slot=\\\"icon-only\\\" name=\\\"flash-off\\\"></ion-icon>\\n  </ion-button>\\n  <ion-row class=\\\"result-outer\\\">\\n    <div *ngFor=\\\"let plateData of pictureData; let i = index\\\" [ngClass]=\\\"plateData.data.status === 'Expired' ? 'inactive' : 'active'\\\">\\n      <ion-card *ngIf=\\\"scanStatus && plateData.status\\\" (click)=\\\"goToDetail(i)\\\"\\n        [@fadeAnimation]=\\\"plateData.animationType\\\">\\n        <ion-item class=\\\"title_bar\\\">\\n          <ion-label>{{plateData.data.permit_id}}</ion-label>\\n          <ion-label text-end slot=\\\"end\\\">{{plateData.data.status}}</ion-label>\\n        </ion-item>\\n\\n        <ion-card-content text-center>\\n          <ion-item *ngFor=\\\"let licenseInfo of plateData.data.vehicle_info\\\">\\n            <ion-label start>License Plate</ion-label>\\n            <ion-label end color=\\\"medium\\\">{{licenseInfo.license_plate}} ({{licenseInfo.license_plate_state}})</ion-label>\\n          </ion-item>\\n          <ion-item *ngFor=\\\"let attributeData of plateData.data.attribute_data\\\">\\n            <ion-label start>{{attributeData.attribute_name}}</ion-label>\\n            <ion-label end color=\\\"medium\\\" text-wrap>{{attributeData.attribute_value}}</ion-label>\\n          </ion-item>\\n        </ion-card-content>\\n      </ion-card>\\n\\n      <ion-card class=\\\"inactive-no-permit\\\" *ngIf=\\\"scanStatus && !plateData.status\\\"\\n        [@fadeAnimation]=\\\"plateData.animationType\\\">\\n        <ion-item text-center>\\n          <ion-label start>No Permits Found</ion-label>\\n          <ion-label end>{{plateData.data.plateNumber}}</ion-label>\\n        </ion-item>\\n      </ion-card>\\n    </div>\\n  </ion-row>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar class=\\\"footer_multiple_pics\\\">\\n    <ion-buttons class=\\\"multiple_pics_btn_cancel\\\" (click)=\\\"goBack()\\\" text-center slot=\\\"start\\\">\\n      <ion-button>\\n        <ion-label>CANCEL</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-buttons *ngIf=\\\"!scanStatus\\\" class=\\\"multiple_pics_btn_submit\\\" text-center slot=\\\"end\\\" (click)=\\\"start()\\\">\\n      <ion-button>\\n        <ion-label>START SCANNING</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-buttons *ngIf=\\\"scanStatus\\\" class=\\\"multiple_pics_btn_submit start-camera\\\" text-center slot=\\\"end\\\" (click)=\\\"stop()\\\">\\n      <ion-button>\\n        <ion-label>STOP SCANNING</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \"ion-content {\\n  --background: transparent;\\n  background: transparent;\\n  vertical-align: bottom;\\n  display: flex; }\\n\\nion-row.result-outer {\\n  display: block;\\n  padding: 0 2.5em;\\n  position: absolute;\\n  bottom: .5em;\\n  width: 100%; }\\n\\nion-row.result-outer ion-card-content {\\n    padding: 0; }\\n\\n.active {\\n  margin-bottom: .75em;\\n  margin-top: 0; }\\n\\n.active ion-item.title_bar {\\n    background: #f26825;\\n    --min-height: 2.5em; }\\n\\n.active ion-item.title_bar ion-label {\\n      color: #FFFFFF;\\n      margin: 0; }\\n\\n.active ion-item.title_bar ion-label:nth-child(2) {\\n        text-transform: uppercase; }\\n\\n.active ion-card-content ion-item {\\n    background: rgba(242, 102, 37, 0.75);\\n    --min-height: 1.5em; }\\n\\n.active ion-card-content ion-item ion-label {\\n      color: #FFFFFF;\\n      margin: 0; }\\n\\n.active ion-card-content ion-item:first-child {\\n      padding-top: 5px; }\\n\\n.active ion-card-content ion-item:nth-child(2) {\\n      padding-bottom: 5px; }\\n\\n.inactive {\\n  margin-bottom: .75em;\\n  margin-top: 0; }\\n\\n.inactive ion-item.title_bar {\\n    background: #9b1f60;\\n    --min-height: 2.5em; }\\n\\n.inactive ion-item.title_bar ion-label {\\n      color: #FFFFFF;\\n      margin: 0; }\\n\\n.inactive ion-item.title_bar ion-label:nth-child(2) {\\n        text-transform: uppercase; }\\n\\n.inactive ion-card-content ion-item {\\n    background: rgba(155, 31, 96, 0.75);\\n    --min-height: 1.5em; }\\n\\n.inactive ion-card-content ion-item ion-label {\\n      color: #FFFFFF;\\n      margin: 0; }\\n\\n.inactive ion-card-content ion-item:first-child {\\n      padding-top: 5px; }\\n\\n.inactive ion-card-content ion-item:nth-child(2) {\\n      padding-bottom: 5px; }\\n\\n.inactive-no-permit {\\n  background: #9b1f60; }\\n\\n.footer_multiple_pics {\\n  --padding-end: 0;\\n  --padding-start: 0;\\n  --padding-bottom: 0;\\n  --padding-top: 0;\\n  --min-height: aut0; }\\n\\n.footer_multiple_pics ion-buttons {\\n    width: 50%;\\n    float: left;\\n    --padding-end: 0;\\n    --padding-start: 0;\\n    margin-left: 0;\\n    margin-right: 0; }\\n\\n.footer_multiple_pics ion-buttons ion-button {\\n      width: 100%;\\n      text-align: center; }\\n\\n.footer_multiple_pics ion-buttons.multiple_pics_btn_submit {\\n    background: #9b1f60; }\\n\\n.footer_multiple_pics ion-buttons.multiple_pics_btn_submit.start-camera {\\n    background: #c8212a; }\\n\\n.footer_multiple_pics ion-buttons.multiple_pics_btn_cancel {\\n    background: #191242; }\\n\\n@media only screen and (min-width: 480px) {\\n  ion-row.result-outer {\\n    display: block;\\n    padding: 0 2.5em;\\n    position: absolute;\\n    bottom: .5em;\\n    width: 70%;\\n    left: 0;\\n    right: 0;\\n    margin: 0 auto; } }\\n\\n.flash {\\n  --background: transparent;\\n  position: absolute;\\n  right: 0.1em;\\n  top: 0.5em;\\n  --box-shadow: none; }\\n\"","import { Component, OnInit, Input, NgZone } from '@angular/core';\nimport { RestService } from '../../rest.service';\nimport { Events, NavController } from '@ionic/angular';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { PowerManagement } from '@ionic-native/power-management/ngx';\n\n@Component({\n  selector: 'app-multiple-pics',\n  templateUrl: './multiple-pics.page.html',\n  styleUrls: ['./multiple-pics.page.scss'],\n  animations: [\n    trigger('fadeAnimation', [\n      state('in', style({ opacity: 1 })),\n      state('out', style({ opacity: 0 })),\n      transition('in => out', animate('600ms')),\n      transition('out => in', animate('300ms')),\n    ])\n  ]\n})\nexport class MultiplePicsPage implements OnInit {\n  pictureData: any = [];\n  scanStatus: boolean = false;\n  plateDataCounter: number = -1;\n  isFlashMode: boolean = false;\n  constructor(\n    private restService: RestService,\n    private events: Events,\n    private screenOrientation: ScreenOrientation,\n    private navCtrl: NavController,\n    private zone: NgZone,\n    private powerManagement: PowerManagement\n  ) {\n    this.events.subscribe('pictureData', (data) => {\n      this.plateDataCounter++;\n      let plateData = data;\n      plateData['animationType'] = 'in';\n      this.pictureData.push(plateData);\n      let counter = this.plateDataCounter;\n      setTimeout(() => {\n        this.pictureData[counter]['animationType'] = 'out';\n      }, 5000);\n      this.scanStatus = true;\n    });\n\n    this.screenOrientation.onChange().subscribe(\n      async () => {\n        await this.restService.stopCameraPreview();\n        await this.restService.startCameraPreview();\n      }\n    );\n  }\n\n  ngOnInit() {\n  }\n\n  async goBack() {\n    this.zone.run(async () => {\n      this.scanStatus = false;\n      this.restService.isTakeMultiplePics = false;\n      try {\n        await this.restService.stopCamera();\n        await this.powerManagement.release();\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n      \n    });\n  }\n\n  async start() {\n    this.zone.run(async () => {\n      this.scanStatus = true;\n      this.restService.isTakeMultiplePics = true;\n      try {\n        await this.powerManagement.acquire();\n        await this.restService.takeMultiplePictures();\n      } catch (error) {\n        this.restService.showToast(JSON.stringify(error));\n      }\n    });\n  }\n\n  async stop() {\n    this.zone.run(async () => {\n      this.scanStatus = false;\n      this.restService.isTakeMultiplePics = false;\n      try {\n        await this.powerManagement.release();\n      } catch (error) {\n        this.restService.showToast(JSON.stringify(error));\n      }\n    });\n  }\n\n  async goToDetail(serialNumber) {\n    this.scanStatus = false;\n    this.restService.lastLprNumber = '';\n    await this.restService.stopCameraPreview();\n    await this.restService.setStorage(\"userData\", []);\n    let response = await this.restService.setStorage(\"vehicleData\", [this.pictureData[serialNumber].data]);\n    if (response) {\n      this.navCtrl.goForward(\"/permit-detail/\" + this.pictureData[serialNumber].data.permit_id);\n    }\n  }\n\n  async manageFlashMode() {\n    if (this.isFlashMode) {\n      this.isFlashMode = false;\n      await this.restService.manageFlashMode(2);\n    } else {\n      this.isFlashMode = true;\n      await this.restService.manageFlashMode(1);\n    }\n  }\n\n}\n"],"sourceRoot":""}