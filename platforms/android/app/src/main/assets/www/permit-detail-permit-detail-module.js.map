{"version":3,"sources":["webpack:///./src/app/permit-detail/permit-detail.module.ts","webpack:///./src/app/permit-detail/permit-detail.page.html","webpack:///./src/app/permit-detail/permit-detail.page.scss","webpack:///./src/app/permit-detail/permit-detail.page.ts"],"names":[],"mappings":"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","file":"permit-detail-permit-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PermitDetailPage } from './permit-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PermitDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PermitDetailPage]\n})\nexport class PermitDetailPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons class=\\\"logoHeader\\\" (click)=\\\"goToHome()\\\" slot=\\\"start\\\">\\n      <ion-button>\\n        <img [src]=\\\"appLogo\\\" />\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button>\\n        <ion-label>PERMIT DETAILS</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"permitData.status=='Active'?'active':'inactive'\\\" padding>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshData($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-card>\\n    <ion-item class=\\\"header\\\">\\n      <ion-label>{{permitId}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">{{permitData.status}}</ion-label>\\n    </ion-item>\\n\\n    <ion-card-content text-center>\\n      <ion-item>\\n        <ion-label start>Start Date</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{permitData.start_date}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Last Order Date</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{permitData.last_order_date}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>End Date</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{permitData.end_date}}</ion-label>\\n      </ion-item>\\n      <ion-item *ngFor=\\\"let attributeData of permitData.attribute_data\\\">\\n        <ion-label start>{{attributeData.attribute_name}}</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{attributeData.attribute_value}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngFor=\\\"let licenseInfo of permitData.permits_info\\\">\\n    <ion-item class=\\\"header\\\">\\n      <ion-label text-wrap>{{licenseInfo.Permit_Name}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">{{permitData.order_total}}</ion-label>\\n    </ion-item>\\n\\n    <ion-card-content text-center>\\n      <ion-item>\\n        <ion-label start text-wrap>License Plate (State)</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{licenseInfo.Plate}} ({{licenseInfo.State_plate}})</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>VIN</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{licenseInfo.VIN}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Year</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Year}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Make</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Make}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Model</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Model}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"!isEnforcement\\\">\\n    <ion-item class=\\\"header\\\">\\n      <ion-label>{{permitData.Customer.First_Name}} {{permitData.Customer.Last_Name}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">\\n        <ion-icon name=\\\"ios-home\\\"></ion-icon>\\n        {{permitData.Customer.Address2}}\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-card-content text-center>\\n      <ion-item>\\n        <ion-label start>Email Address</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{permitData.Customer.Email}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Address</ion-label>\\n        <ion-label text-wrap end color=\\\"medium\\\">{{permitData.Customer.Address1}} {{permitData.Customer.Address2}}\\n          {{permitData.Customer.City}}\\n          {{permitData.Customer.State}} {{permitData.Customer.Zip}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar class=\\\"footer_permit_details\\\">\\n    <ion-buttons class=\\\"view_note_btn\\\" (click)=\\\"goBack()\\\" text-center slot=\\\"start\\\">\\n      <ion-button>\\n        <ion-label>BACK</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title text-center (click)=\\\"viewNotes()\\\">\\n      <ion-label>VIEW NOTES\\n        <ion-icon name=\\\"md-chatboxes\\\"></ion-icon>\\n      </ion-label>\\n    </ion-title>\\n\\n    <ion-buttons class=\\\"add_note_btn\\\" text-center slot=\\\"end\\\" (click)=\\\"presentModal()\\\">\\n      <ion-button>\\n        <ion-label>ADD NOTE</ion-label>\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \".inactive ion-card {\\n  background: #320a2d;\\n  margin-bottom: 2em; }\\n  .inactive ion-card ion-item.header {\\n    background: #9b1f60; }\\n  .inactive ion-card ion-item ion-label {\\n    color: #FFFFFF; }\\n  .active ion-card {\\n  background: #2c0f13;\\n  margin-bottom: 2em; }\\n  .active ion-card ion-item.header {\\n    background: #f26825; }\\n  .active ion-card ion-item ion-label {\\n    color: #FFFFFF; }\\n  .footer_permit_details {\\n  --padding-top: 0;\\n  --padding-bottom: 0;\\n  --background: #9b1f60;\\n  --min-height: auto;\\n  --padding-end: 0;\\n  --padding-start: 0; }\\n  .footer_permit_details ion-buttons.view_note_btn {\\n    --background: #1d134a; }\\n  .footer_permit_details ion-buttons.sc-ion-buttons-md-h.sc-ion-buttons-md-s.hydrated {\\n    background: #5f2877;\\n    margin-right: 0; }\\n  .footer_permit_details ion-buttons.view_note_btn.sc-ion-buttons-md-h.sc-ion-buttons-md-s.hydrated {\\n    background: #1d134a !important;\\n    margin-left: 0; }\\n  .footer_permit_details ion-buttons {\\n    width: 33.33%; }\\n  .footer_permit_details ion-buttons ion-button {\\n      width: 100%;\\n      text-align: center; }\\n  .footer_permit_details ion-buttons ion-button ion-icon {\\n        color: #FFFFFF; }\\n  .footer_permit_details ion-title {\\n    padding: 0; }\\n  .footer_permit_details ion-title ion-label {\\n      font-size: 0.70em;\\n      margin: 0;\\n      padding: 0; }\\n\"","import { Component } from '@angular/core';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { AddNoteComponent } from '../add-note/add-note.component';\nimport { RestService } from '../rest.service';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { ViewNotesComponent } from '../view-notes/view-notes.component';\n\n@Component({\n  selector: 'app-permit-detail',\n  templateUrl: './permit-detail.page.html',\n  styleUrls: ['./permit-detail.page.scss'],\n})\nexport class PermitDetailPage {\n  appLogo: string = 'assets/icon/inner_header_logo.png';\n  permitData: any = [];\n  permitId: number = 0;\n  isEnforcement: boolean = false;\n  constructor(\n    private modalController: ModalController,\n    private restService: RestService,\n    private route: ActivatedRoute,\n    private navCtrl: NavController\n  ) {\n    this.route.params.subscribe((params: Params) => {\n      this.permitId = params['id'];\n      this.getPermitDetail();\n    });\n  }\n\n  refreshData(event) {\n    this.getPermitDetail();\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n  async getPermitDetail() {\n    this.permitData = [];\n    let requestData = {\n      sp_action: \"sp_permit_detail\",\n      permit_id: this.permitId\n    }\n    await this.restService.keyBoardHide();\n    this.restService.showLoader('Getting Permit Details');\n    this.restService.makeGetRequest(requestData).then( async (result) => {\n      this.restService.hideLoader();\n      if (result['PermitDetail']) {\n        this.permitData = result['PermitDetail'];\n        let response = await this.restService.getStorage(\"userInfo\");\n        let userRoles = response[\"roles\"];\n        if (userRoles.indexOf(\"enforcement\") !== -1) {\n          this.isEnforcement = true;\n        }\n      }\n\n    }, (err) => {\n      this.restService.hideLoader();\n      if (err.error) {\n        this.restService.showAlert(\"Notice\", this.restService.setErrorMessageArray(err.error.message));\n      } else {\n        this.restService.showAlert(\"Notice\", err.statusText);\n      }\n    });\n  }\n\n  async presentModal() {\n    const modal = await this.modalController.create({\n      component: AddNoteComponent,\n      componentProps: { permitId: this.permitId }\n    });\n    modal.onDidDismiss(data => {\n      if(data['data']['type']==0){\n        this.goToHome();\n      }\n    });\n    return await modal.present();\n  }\n\n  async viewNotes() {\n    if (this.permitData.Notes) {\n      const modal = await this.modalController.create({\n        component: ViewNotesComponent,\n        componentProps: { permitId: this.permitId }\n      });\n      modal.onDidDismiss(data => {\n        if(data['data']['type']==0){\n          this.goToHome();\n        }\n      });\n      return await modal.present();\n    } else {\n      this.restService.showAlert(\"Notice\", \"There are no notes for this permit.\");\n    }\n  }\n\n  goBack() {\n    this.navCtrl.goBack('/property-list');\n  }\n\n  goToHome() {\n    this.navCtrl.goRoot(\"/home\");\n  }\n\n}\n"],"sourceRoot":""}