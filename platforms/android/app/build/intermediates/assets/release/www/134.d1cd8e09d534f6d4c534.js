(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{"f+ep":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),i=e("2yus"),a=(e("OO+k"),e("9B/o")),u=e("b6o4"),o=function(n,l,e,t){return new(e||(e=Promise))(function(i,a){function u(n){try{r(t.next(n))}catch(n){a(n)}}function o(n){try{r(t.throw(n))}catch(n){a(n)}}function r(n){n.done?i(n.value):new e(function(l){l(n.value)}).then(u,o)}r((t=t.apply(n,l||[])).next())})},r=function(n,l){var e,t,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(i=t[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(t,a[1])).done)return i;switch(t=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,t=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=l.call(n,u)}catch(n){a=[6,n],t=0}finally{e=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},s=function(){function n(n,l,e,t,i){var a=this;this.restService=n,this.navCtrl=l,this.zone=e,this.iab=t,this.screenOrientation=i,this.cities=[],this.username="",this.password="",this.city="",this.forgotPasswordLink="",this.appLogo="assets/icon/login_logo.png",this.deviceMode="",this.colSize=12,this.login=function(){return o(a,void 0,void 0,function(){var n=this;return r(this,function(l){switch(l.label){case 0:return""!=this.city&&void 0!=this.city?[3,1]:(this.restService.showToast("Please select a city"),[3,5]);case 1:return""!=this.username?[3,2]:(this.restService.showToast("Please enter username"),[3,5]);case 2:return""!=this.password?[3,3]:(this.restService.showToast("Please enter password"),[3,5]);case 3:return[4,this.restService.keyBoardHide()];case 4:l.sent(),this.restService.showLoader("Logging in..."),this.restService.makePostRequest({sp_action:"sp_lpr_login",sp_user_login:this.username,sp_user_password:this.password}).then(function(l){return o(n,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return this.restService.hideLoader(),l.sp_error?[3,3]:[4,this.restService.setStorage("session_id",l.session_id)];case 1:return n.sent(),[4,this.restService.setStorage("userInfo",l.sp_user)];case 2:return n.sent()&&(this.restService.checkLoginStatus(),this.navCtrl.goRoot("/home")),[3,4];case 3:this.restService.showAlert("Error",l.sp_error),n.label=4;case 4:return[2]}})})},function(l){n.restService.hideLoader(),n.restService.showAlert("Notice",l.error?n.restService.setErrorMessageArray(l.error.message):l.statusText)}),l.label=5;case 5:return[2]}})})}}return n.prototype.ngOnInit=function(){var n=this;this.getCities(),this.deviceMode=this.screenOrientation.type,"landscape-primary"!=this.deviceMode&&"landscape-secondary"!=this.deviceMode||(this.colSize=6),this.screenOrientation.onChange().subscribe(function(){n.deviceMode=n.screenOrientation.type,n.colSize="landscape-primary"==n.deviceMode||"landscape-secondary"==n.deviceMode?6:12})},n.prototype.changeApiUrl=function(){return o(this,void 0,void 0,function(){var n;return r(this,function(l){switch(l.label){case 0:return console.log(this.city),void 0===this.city?[3,2]:(n=this.city.split("|"),console.log(n),this.forgotPasswordLink=n[1],[4,this.restService.setStorage("cityApiUrl",n[0])]);case 1:l.sent(),this.restService.cityApiUrl=n[0],console.log(this.restService.cityApiUrl),l.label=2;case 2:return[2]}})})},n.prototype.getCities=function(){var n=this;this.restService.showLoader("Loading cities..."),this.restService.makeCommonGetRequest({sp_action:"sp_lpr_cities_list"}).then(function(l){n.restService.hideLoader(),n.cities=l.CityApiList,console.log(n.cities)},function(l){n.restService.hideLoader(),n.restService.showAlert("Notice",l.error?n.restService.setErrorMessageArray(l.error.message):l.statusText)})},n.prototype.openForgotPassword=function(){""==this.city||void 0==this.city?this.restService.showToast("Please select a city"):this.iab.create(this.forgotPasswordLink)},n}(),c=function(){},d=e("pMnS"),g=e("ntG5"),p=e("M9A9"),h=e("ZYCi"),v=e("Zq1E"),m=e("gIcY"),f=e("uhuC"),M=e("Ip0R"),k=e("tXrQ"),C=t.La({encapsulation:0,styles:[[".item-interactive[_ngcontent-%COMP%]   .sc-ion-label-md-h[_ngcontent-%COMP%], .item-interactive.sc-ion-label-md-h[_ngcontent-%COMP%]{z-index:9}.input-box[_ngcontent-%COMP%]{position:relative}.select-pin[_ngcontent-%COMP%]{margin-top:0}.logoImg[_ngcontent-%COMP%]{max-width:85%!important;margin:0 auto}.forget-link[_ngcontent-%COMP%]{--box-shadow:none!important;box-shadow:none!important}ion-grid.hydrated[_ngcontent-%COMP%]{display:-ms-grid;display:grid;align-items:center;height:100%}ion-row.item-verticle-align-center.hydrated[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (min-width:576px){.logoImg[_ngcontent-%COMP%]{max-width:90%!important;margin:0 auto}.loginButton[_ngcontent-%COMP%]{margin-top:25px}}@media screen and (max-device-width:768px) and (orientation:portrait){ion-item.item.hydrated[_ngcontent-%COMP%]{margin-bottom:1.2em}}"]],data:{}});function y(n){return t.ab(0,[(n()(),t.Na(0,0,null,null,2,"ion-select-option",[],null,null,null,null,null)),t.Ma(1,16384,null,0,g.Ja,[t.k],{value:[0,"value"]},null),(n()(),t.Za(2,null,["",""]))],function(n,l){n(l,1,0,t.Pa(2,"",l.context.$implicit.city_api_url,"|",l.context.$implicit.forgot_password_link,""))},function(n,l){n(l,2,0,l.context.$implicit.city_name)})}function S(n){return t.ab(0,[(n()(),t.Na(0,0,null,null,59,"ion-content",[["padding",""]],null,null,null,null,null)),t.Ma(1,16384,null,0,g.r,[t.k],null,null),(n()(),t.Na(2,0,null,null,57,"ion-grid",[],null,null,null,null,null)),t.Ma(3,16384,null,0,g.x,[t.k],null,null),(n()(),t.Na(4,0,null,null,55,"ion-row",[["class","item-verticle-align-center"]],null,null,null,null,null)),t.Ma(5,16384,null,0,g.Ea,[],null,null),(n()(),t.Na(6,0,null,null,5,"ion-col",[["size","12"]],[[1,"size-sm",0],[1,"size-md",0],[1,"size-lg",0],[1,"size-xl",0]],null,null,null,null)),t.Ma(7,16384,null,0,g.q,[t.k],{size:[0,"size"]},null),(n()(),t.Na(8,0,null,null,3,"ion-item",[],null,[[null,"click"]],function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t.Wa(n,10).onClick(e)&&i),i},null,null)),t.Ma(9,16384,null,0,g.F,[t.k],null,null),t.Ma(10,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Na(11,0,null,null,0,"img",[["class","logoImg"]],[[8,"src",4]],null,null,null,null)),(n()(),t.Na(12,0,null,null,47,"ion-col",[["size","12"]],[[1,"size-sm",0],[1,"size-md",0],[1,"size-lg",0],[1,"size-xl",0]],null,null,null,null)),t.Ma(13,16384,null,0,g.q,[t.k],{size:[0,"size"]},null),(n()(),t.Na(14,0,null,null,11,"ion-item",[["class","margin-bottom"],["margin-top",""]],null,[[null,"click"]],function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t.Wa(n,16).onClick(e)&&i),i},null,null)),t.Ma(15,16384,null,0,g.F,[t.k],null,null),t.Ma(16,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Na(17,0,null,null,1,"ion-icon",[["name","person"],["slot","start"]],null,null,null,null,null)),t.Ma(18,16384,null,0,g.A,[t.k],{name:[0,"name"]},null),(n()(),t.Na(19,0,null,null,6,"ion-input",[["placeholder","USERNAME OR EMAIL ADDRESS"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"]],function(n,l,e){var i=!0,a=n.component;return"input"===l&&(i=!1!==t.Wa(n,20)._handleInputEvent(e.target.value)&&i),"ionBlur"===l&&(i=!1!==t.Wa(n,20)._handleBlurEvent()&&i),"ngModelChange"===l&&(i=!1!==(a.username=e)&&i),i},null,null)),t.Ma(20,16384,null,0,v.a,[t.k],null,null),t.Xa(1024,null,m.b,function(n){return[n]},[v.a]),t.Ma(22,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Xa(2048,null,m.c,null,[m.e]),t.Ma(24,16384,null,0,m.d,[[4,m.c]],null,null),t.Ma(25,16384,null,0,g.E,[t.k],{placeholder:[0,"placeholder"]},{ionBlur:"ionBlur"}),(n()(),t.Na(26,0,null,null,11,"ion-item",[["class","margin-bottom"]],null,[[null,"click"]],function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t.Wa(n,28).onClick(e)&&i),i},null,null)),t.Ma(27,16384,null,0,g.F,[t.k],null,null),t.Ma(28,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Na(29,0,null,null,1,"ion-icon",[["name","lock"],["slot","start"]],null,null,null,null,null)),t.Ma(30,16384,null,0,g.A,[t.k],{name:[0,"name"]},null),(n()(),t.Na(31,0,null,null,6,"ion-input",[["placeholder","PASSWORD"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"]],function(n,l,e){var i=!0,a=n.component;return"input"===l&&(i=!1!==t.Wa(n,32)._handleInputEvent(e.target.value)&&i),"ionBlur"===l&&(i=!1!==t.Wa(n,32)._handleBlurEvent()&&i),"ngModelChange"===l&&(i=!1!==(a.password=e)&&i),i},null,null)),t.Ma(32,16384,null,0,v.a,[t.k],null,null),t.Xa(1024,null,m.b,function(n){return[n]},[v.a]),t.Ma(34,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Xa(2048,null,m.c,null,[m.e]),t.Ma(36,16384,null,0,m.d,[[4,m.c]],null,null),t.Ma(37,16384,null,0,g.E,[t.k],{placeholder:[0,"placeholder"],type:[1,"type"]},{ionBlur:"ionBlur"}),(n()(),t.Na(38,0,null,null,13,"ion-item",[["class","margin-bottom"]],null,[[null,"click"]],function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t.Wa(n,40).onClick(e)&&i),i},null,null)),t.Ma(39,16384,null,0,g.F,[t.k],null,null),t.Ma(40,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Na(41,0,null,null,1,"ion-icon",[["class","select-pin"],["name","pin"],["slot","start"]],null,null,null,null,null)),t.Ma(42,16384,null,0,g.A,[t.k],{name:[0,"name"]},null),(n()(),t.Na(43,0,null,null,8,"ion-select",[["interface","popover"],["placeholder","SELECT CITY"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var i=!0,a=n.component;return"ionChange"===l&&(i=!1!==t.Wa(n,44)._handleChangeEvent(e.target.value)&&i),"ionBlur"===l&&(i=!1!==t.Wa(n,44)._handleBlurEvent()&&i),"ngModelChange"===l&&(i=!1!==(a.city=e)&&i),"ionChange"===l&&(i=!1!==a.changeApiUrl()&&i),i},null,null)),t.Ma(44,16384,null,0,f.a,[t.k],null,null),t.Xa(1024,null,m.b,function(n){return[n]},[f.a]),t.Ma(46,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Xa(2048,null,m.c,null,[m.e]),t.Ma(48,16384,null,0,m.d,[[4,m.c]],null,null),t.Ma(49,16384,null,0,g.Ia,[t.k],{placeholder:[0,"placeholder"],interface:[1,"interface"]},{ionChange:"ionChange",ionBlur:"ionBlur"}),(n()(),t.Ea(16777216,null,null,1,null,y)),t.Ma(51,278528,null,0,M.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Na(52,0,null,null,3,"ion-button",[["class","loginButton"],["expand","block"],["size","large"]],null,[[null,"click"]],function(n,l,e){var i=!0,a=n.component;return"click"===l&&(i=!1!==t.Wa(n,54).onClick(e)&&i),"click"===l&&(i=!1!==a.login()&&i),i},null,null)),t.Ma(53,16384,null,0,g.f,[t.k],{expand:[0,"expand"],size:[1,"size"]},null),t.Ma(54,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Za(-1,null,["LOGIN"])),(n()(),t.Na(56,0,null,null,3,"ion-button",[["class","forget-link"]],null,[[null,"click"]],function(n,l,e){var i=!0,a=n.component;return"click"===l&&(i=!1!==t.Wa(n,58).onClick(e)&&i),"click"===l&&(i=!1!==a.openForgotPassword()&&i),i},null,null)),t.Ma(57,16384,null,0,g.f,[t.k],null,null),t.Ma(58,16384,null,0,p.a,[[2,h.l],t.k],null,null),(n()(),t.Za(-1,null,["FORGOT YOUR PASSWORD?"]))],function(n,l){var e=l.component;n(l,7,0,"12"),n(l,13,0,"12"),n(l,18,0,"person"),n(l,22,0,e.username),n(l,25,0,"USERNAME OR EMAIL ADDRESS"),n(l,30,0,"lock"),n(l,34,0,e.password),n(l,37,0,"PASSWORD","password"),n(l,42,0,"pin"),n(l,46,0,e.city),n(l,49,0,"SELECT CITY","popover"),n(l,51,0,e.cities),n(l,53,0,"block","large")},function(n,l){var e=l.component;n(l,6,0,e.colSize,e.colSize,e.colSize,e.colSize),n(l,11,0,e.appLogo),n(l,12,0,e.colSize,e.colSize,e.colSize,e.colSize),n(l,19,0,t.Wa(l,24).ngClassUntouched,t.Wa(l,24).ngClassTouched,t.Wa(l,24).ngClassPristine,t.Wa(l,24).ngClassDirty,t.Wa(l,24).ngClassValid,t.Wa(l,24).ngClassInvalid,t.Wa(l,24).ngClassPending),n(l,31,0,t.Wa(l,36).ngClassUntouched,t.Wa(l,36).ngClassTouched,t.Wa(l,36).ngClassPristine,t.Wa(l,36).ngClassDirty,t.Wa(l,36).ngClassValid,t.Wa(l,36).ngClassInvalid,t.Wa(l,36).ngClassPending),n(l,43,0,t.Wa(l,48).ngClassUntouched,t.Wa(l,48).ngClassTouched,t.Wa(l,48).ngClassPristine,t.Wa(l,48).ngClassDirty,t.Wa(l,48).ngClassValid,t.Wa(l,48).ngClassInvalid,t.Wa(l,48).ngClassPending)})}var b=t.Ja("app-login",s,function(n){return t.ab(0,[(n()(),t.Na(0,0,null,null,1,"app-login",[],null,null,null,S,C)),t.Ma(1,114688,null,0,s,[i.a,k.a,t.x,a.a,u.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),w=e("95zI"),_=e("9opb"),W=e("apKv"),P=e("B4/3");e.d(l,"LoginPageModuleNgFactory",function(){return z});var z=t.Ka(c,[],function(n){return t.Ua([t.Va(512,t.j,t.Z,[[8,[d.a,b]],[3,t.j],t.v]),t.Va(4608,M.l,M.k,[t.s,[2,M.r]]),t.Va(4608,m.g,m.g,[]),t.Va(4608,w.a,w.a,[t.x,t.g]),t.Va(4608,_.a,_.a,[w.a,t.j,t.p]),t.Va(4608,W.a,W.a,[w.a,t.j,t.p]),t.Va(1073742336,M.b,M.b,[]),t.Va(1073742336,m.f,m.f,[]),t.Va(1073742336,m.a,m.a,[]),t.Va(1073742336,P.a,P.a,[]),t.Va(1073742336,h.m,h.m,[[2,h.s],[2,h.l]]),t.Va(1073742336,c,c,[]),t.Va(1024,h.j,function(){return[[{path:"",component:s}]]},[])])})}}]);