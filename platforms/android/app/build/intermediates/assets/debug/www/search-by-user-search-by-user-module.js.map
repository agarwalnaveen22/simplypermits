{"version":3,"sources":["webpack:///./src/app/search-by-user/search-by-user.module.ts","webpack:///./src/app/search-by-user/search-by-user.page.html","webpack:///./src/app/search-by-user/search-by-user.page.scss","webpack:///./src/app/search-by-user/search-by-user.page.ts"],"names":[],"mappings":"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","file":"search-by-user-search-by-user-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchByUserPage } from './search-by-user.page';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchByUserPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SearchByUserPage]\n})\nexport class SearchByUserPageModule {}\n","module.exports = \"<app-header [showProperty]=\\\"showProperty\\\" [pageName]=\\\"pageName\\\"></app-header>\\n\\n<ion-content padding text-center>\\n\\n  <ion-item class=\\\"margin-bottom\\\" margin-top>\\n    <ion-icon slot=\\\"start\\\" name=\\\"contact\\\"></ion-icon>\\n    <ion-input [(ngModel)]=\\\"firstName\\\" placeholder=\\\"First Name\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item class=\\\"margin-bottom\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"contact\\\"></ion-icon>\\n    <ion-input [(ngModel)]=\\\"lastName\\\" placeholder=\\\"Last Name\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item class=\\\"margin-bottom\\\">\\n    <ion-icon slot=\\\"end\\\" src=\\\"assets/icon/Second-Billing-Address.svg\\\"></ion-icon>\\n    <ion-input [(ngModel)]=\\\"residentUnit\\\" placeholder=\\\"{{dynamic_field}}\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item class=\\\"margin-bottom\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"mail\\\"></ion-icon>\\n    <ion-input [(ngModel)]=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Email Address\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item class=\\\"margin-bottom\\\">\\n    <ion-icon slot=\\\"start\\\" name=\\\"call\\\"></ion-icon>\\n    <ion-input [(ngModel)]=\\\"phone\\\" type=\\\"tel\\\" placeholder=\\\"Phone Number\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-button class=\\\"loginButton\\\" expand=\\\"block\\\" size=\\\"large\\\" (click)=\\\"submitForm()\\\">Search</ion-button>\\n\\n</ion-content>\\n\\n<ion-footer (click)=\\\"goToBack()\\\">\\n  <ion-toolbar>\\n    <ion-title text-center>BACK</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { RestService } from '../rest.service';\nimport { NavController } from '@ionic/angular';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-search-by-user',\n  templateUrl: './search-by-user.page.html',\n  styleUrls: ['./search-by-user.page.scss'],\n})\nexport class SearchByUserPage implements OnInit {\n  firstName: string = '';\n  lastName: string = '';\n  residentUnit: string = '';\n  email: string = '';\n  phone: string = '';\n  dynamic_field: string = '';\n  showProperty: boolean = false;\n  pageName: string = 'SEARCH BY USER';\n  constructor(\n    private restService: RestService,\n    private navCtrl: NavController,\n    private location: Location\n  ) { }\n\n  ngOnInit() {\n    this.getDynamicField();\n  }\n\n  async getDynamicField() {\n    let requestData = {\n      sp_action: \"sp_lpr_custom_option\"\n    }\n    await this.restService.keyBoardHide();\n    this.restService.showLoader('Loading...');\n    this.restService.makeGetRequest(requestData).then(async (result) => {\n      this.restService.hideLoader();\n      this.dynamic_field = result['second_billing_address'];\n    }, (err) => {\n      this.restService.hideLoader();\n      if (err.error) {\n        this.restService.showAlert(\"Notice\", this.restService.setErrorMessageArray(err.error.message));\n      } else {\n        this.restService.showAlert(\"Notice\", err.statusText);\n      }\n    });\n  }\n\n  goToBack() {\n    this.location.back();\n  }\n\n  submitForm() {\n    if (this.firstName == '' && this.lastName == '' && this.residentUnit == '' && this.email == '' && this.phone == '') {\n      this.restService.showAlert('Error', 'Please enter some input');\n    } else {\n      this.searchManualUser();\n    }\n  }\n\n  async searchManualUser() {\n    let requestData = {\n      sp_action: \"sp_search_permit_by_user\",\n      selected_cat: this.restService.selectedProperty,\n      first_name: this.firstName,\n      last_name: this.lastName,\n      email_address: this.email,\n      phone_number: this.phone,\n      unit_number: this.residentUnit\n    }\n    await this.restService.keyBoardHide();\n    this.restService.showLoader('Searching Users');\n    this.restService.makeGetRequest(requestData).then(async (result) => {\n      this.restService.hideLoader();\n      if (result['json'] && result['json'].length > 0) {\n        await this.restService.setStorage(\"vehicleData\", []);\n        let response = await this.restService.setStorage(\"userData\", result['json']);\n        if (response) {\n          this.firstName = '';\n          this.lastName = '';\n          this.email = '';\n          this.phone = '';\n          this.residentUnit = '';\n          this.navCtrl.goForward(\"/property-list\");\n        }\n      } else {\n        this.restService.showAlert(\"Notice\", \"No users found\");\n      }\n\n    }, (err) => {\n      this.restService.hideLoader();\n      if (err.error) {\n        this.restService.showAlert(\"Notice\", this.restService.setErrorMessageArray(err.error.message));\n      } else {\n        this.restService.showAlert(\"Notice\", err.statusText);\n      }\n    });\n  }\n\n}\n"],"sourceRoot":""}