{"version":3,"sources":["webpack:///./src/app/permit-detail/permit-detail.module.ts","webpack:///./src/app/permit-detail/permit-detail.page.html","webpack:///./src/app/permit-detail/permit-detail.page.scss","webpack:///./src/app/permit-detail/permit-detail.page.ts"],"names":[],"mappings":"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","file":"permit-detail-permit-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PermitDetailPage } from './permit-detail.page';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PermitDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PermitDetailPage]\n})\nexport class PermitDetailPageModule {}\n","module.exports = \"<app-header [showProperty]=\\\"showProperty\\\" [pageName]=\\\"pageName\\\"></app-header>\\n\\n<ion-content [ngClass]=\\\"permitData.status=='Active'?'active':'inactive'\\\" >\\n  <ion-refresher [disabled]=\\\"false\\\" slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshData($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-card>\\n    <ion-item class=\\\"header\\\">\\n      <ion-label>{{permitId}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">{{permitData.status}}</ion-label>\\n    </ion-item>\\n\\n    <ion-card-content class=\\\"permitDetailsList\\\" text-center>\\n      <ion-item>\\n        <ion-label start>Start Date</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{permitData.start_date}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Last Order Date</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{permitData.last_order_date}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>End Date</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{permitData.end_date}}</ion-label>\\n      </ion-item>\\n      <ion-item *ngFor=\\\"let attributeData of permitData.attribute_data\\\">\\n        <ion-label start>{{attributeData.attribute_name}}</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{attributeData.attribute_value}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngFor=\\\"let licenseInfo of permitData.permits_info\\\" >\\n    <ion-item class=\\\"header\\\">\\n      <ion-label text-wrap>{{licenseInfo.Permit_Name}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">{{permitData.order_total}}</ion-label>\\n    </ion-item>\\n\\n    <ion-card-content text-center class=\\\"permitDetailsList\\\">\\n      <ion-item>\\n        <ion-label start text-wrap>License Plate (State)</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{licenseInfo.Plate}} ({{licenseInfo.State_plate}})</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>VIN</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{licenseInfo.VIN}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Year</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Year}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Make</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Make}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Model</ion-label>\\n        <ion-label end color=\\\"medium\\\">{{licenseInfo.Model}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"!isEnforcement\\\">\\n    <ion-item class=\\\"header\\\">\\n      <ion-label>{{permitData?.Customer?.First_Name}} {{permitData?.Customer?.Last_Name}}</ion-label>\\n      <ion-label text-end slot=\\\"end\\\">\\n        <ion-icon src=\\\"assets/icon/Second-Billing-Address-alt.svg\\\"></ion-icon>\\n        {{permitData?.Customer?.Address2}}\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-card-content text-center class=\\\"permitDetailsList\\\">\\n      <ion-item>\\n        <ion-label start>Email Address</ion-label>\\n        <ion-label end color=\\\"medium\\\" text-wrap>{{permitData?.Customer?.Email}}</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label start>Address</ion-label>\\n        <ion-label text-wrap end color=\\\"medium\\\">{{permitData?.Customer?.Address1}} {{permitData?.Customer?.Address2}}\\n          {{permitData?.Customer?.City}}\\n          {{permitData?.Customer?.State}} {{permitData?.Customer?.Zip}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar class=\\\"footer_permit_details\\\">\\n    <ion-buttons class=\\\"view_note_btn\\\" (click)=\\\"goBack()\\\" text-center slot=\\\"start\\\">\\n      <ion-button>\\n        <ion-label>BACK</ion-label>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title text-center (click)=\\\"viewNotes()\\\">\\n      <ion-label>VIEW NOTES\\n        <ion-icon name=\\\"md-chatboxes\\\"></ion-icon>\\n      </ion-label>\\n    </ion-title>\\n\\n    <ion-buttons class=\\\"add_note_btn\\\" text-center slot=\\\"end\\\" (click)=\\\"addNote()\\\">\\n      <ion-button>\\n        <ion-label>ADD NOTE</ion-label>\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \".inactive ion-card {\\n  background: #320a2d;\\n  margin-bottom: 2em; }\\n  .inactive ion-card ion-item.header {\\n    background: #9b1f60; }\\n  .inactive ion-card ion-item ion-label {\\n    color: #FFFFFF; }\\n  .active ion-card {\\n  background: #2c0f13;\\n  margin-bottom: 2em; }\\n  .active ion-card ion-item.header {\\n    background: #f26825; }\\n  .active ion-card ion-item ion-label {\\n    color: #FFFFFF; }\\n  .permitDetailsList ion-item {\\n  --padding-start:0;\\n  font-size: 14px; }\\n  .permitDetailsList ion-item ion-label:first-child {\\n    width: 40%;\\n    max-width: 40%; }\\n  .card-content-md {\\n  padding: 10px; }\\n  .footer_permit_details {\\n  --padding-top: 0;\\n  --padding-bottom: 0;\\n  --background: #9b1f60;\\n  --min-height: auto;\\n  --padding-end: 0;\\n  --padding-start: 0; }\\n  .footer_permit_details ion-buttons.view_note_btn {\\n    --background: #1d134a; }\\n  .footer_permit_details ion-buttons.sc-ion-buttons-md-h.sc-ion-buttons-md-s.hydrated {\\n    background: #5f2877;\\n    margin-right: 0; }\\n  .footer_permit_details ion-buttons.view_note_btn.sc-ion-buttons-md-h.sc-ion-buttons-md-s.hydrated {\\n    background: #1d134a !important;\\n    margin-left: 0; }\\n  .footer_permit_details ion-buttons {\\n    width: 33.33%; }\\n  .footer_permit_details ion-buttons ion-button {\\n      width: 100%;\\n      text-align: center; }\\n  .footer_permit_details ion-buttons ion-button ion-icon {\\n        color: #FFFFFF; }\\n  .footer_permit_details ion-title {\\n    padding: 0; }\\n  .footer_permit_details ion-title ion-label {\\n      font-size: 0.70em;\\n      margin: 0;\\n      padding: 0; }\\n\"","import { Component, OnInit, NgZone } from \"@angular/core\";\nimport { ModalController, NavController } from \"@ionic/angular\";\nimport { RestService } from \"../rest.service\";\nimport { ActivatedRoute, Params } from \"@angular/router\";\nimport { Location } from \"@angular/common\";\n\n@Component({\n  selector: \"app-permit-detail\",\n  templateUrl: \"./permit-detail.page.html\",\n  styleUrls: [\"./permit-detail.page.scss\"],\n})\nexport class PermitDetailPage implements OnInit {\n  permitData: any = [];\n  permitId: number = 0;\n  isEnforcement: boolean = false;\n  showProperty: boolean = false;\n  pageName: string = \"PERMIT DETAILS\";\n  constructor(\n    private modalController: ModalController,\n    private restService: RestService,\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private location: Location,\n    private zone: NgZone\n  ) {\n    this.route.params.subscribe((params: Params) => {\n      this.permitId = params[\"id\"];\n    });\n  }\n\n  ngOnInit() {\n    this.getPermitDetail();\n  }\n\n  refreshData(event) {\n    this.getPermitDetail();\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n\n  async getPermitDetail(type = 1) {\n    if (type === 1) {\n      this.permitData = [];\n    }\n    let requestData = {\n      sp_action: \"sp_permit_detail\",\n      permit_id: this.permitId,\n    };\n    await this.restService.keyBoardHide();\n    if (type === 2) {\n      this.restService.showLoader(\"Getting Notes\");\n    } else {\n      this.restService.showLoader(\"Getting Permit Details\");\n    }\n    try {\n      const result = await this.restService.makeGetRequest(requestData);\n      setTimeout(() => {\n        this.restService.hideLoader();\n      }, 2000);\n      if (result[\"PermitDetail\"]) {\n        this.zone.run(async () => {\n          this.permitData = result[\"PermitDetail\"];\n          let response = await this.restService.getStorage(\"userInfo\");\n          let userRoles = response[\"roles\"];\n          if (userRoles.indexOf(\"enforcement\") !== -1) {\n            this.isEnforcement = true;\n          }\n          if (type === 2) {\n            if (this.permitData.Notes) {\n              this.navCtrl.goForward(\"/view-notes/\" + this.permitId);\n            } else {\n              this.restService.showAlert(\n                \"Notice\",\n                \"There are no notes for this permit.\"\n              );\n            }\n          }\n        });\n      }\n    } catch (err) {\n      this.restService.hideLoader();\n      if (err.error) {\n        this.restService.showAlert(\n          \"Notice\",\n          this.restService.setErrorMessageArray(err.error.message)\n        );\n      } else {\n        this.restService.showAlert(\"Notice\", err.statusText);\n      }\n    }\n  }\n\n  async addNote() {\n    this.navCtrl.goForward(\"/add-note/\" + this.permitId);\n  }\n\n  async viewNotes() {\n    await this.getPermitDetail(2);\n  }\n\n  goBack() {\n    this.navCtrl.goBack(\"/property-list\");\n  }\n\n  goToHome() {\n    this.navCtrl.goRoot(\"/home\");\n  }\n}\n"],"sourceRoot":""}