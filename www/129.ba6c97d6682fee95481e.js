(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{"2KNY":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),a=e("2yus"),u=(e("OO+k"),function(n,l,e,t){return new(e||(e=Promise))(function(a,u){function o(n){try{i(t.next(n))}catch(n){u(n)}}function r(n){try{i(t.throw(n))}catch(n){u(n)}}function i(n){n.done?a(n.value):new e(function(l){l(n.value)}).then(o,r)}i((t=t.apply(n,l||[])).next())})}),o=function(){function n(n,l,e){var t=this;this.restService=n,this.route=l,this.navCtrl=e,this.description="",this.category="notice",this.permitId=0,this.showProperty=!1,this.pageName="ADD NOTE",this.route.params.subscribe(function(n){t.permitId=n.permitId})}return n.prototype.ngOnInit=function(){},n.prototype.goBack=function(){this.navCtrl.goBack("/permit-detail/"+this.permitId)},n.prototype.addNotes=function(){return u(this,void 0,void 0,function(){var n,l=this;return function(n,l){var e,t,a,u,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function r(u){return function(r){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(a=t[2&u[0]?"return":u[0]?"throw":"next"])&&!(a=a.call(t,u[1])).done)return a;switch(t=0,a&&(u=[0,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,t=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=l.call(n,o)}catch(n){u=[6,n],t=0}finally{e=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,r])}}}(this,function(e){switch(e.label){case 0:return""!=this.description?[3,1]:(this.restService.showAlert("Error","Please enter description"),[3,4]);case 1:return""!=this.category?[3,2]:(this.restService.showAlert("Error","Please select category"),[3,4]);case 2:return n={sp_action:"sp_permit_add_note",permit_id:this.permitId,page_id:"Permit Detail",add_note:this.description,note_category:this.category},[4,this.restService.keyBoardHide()];case 3:e.sent(),this.restService.showLoader("Saving notes"),this.restService.makePostRequest(n).then(function(n){l.restService.hideLoader(),n.error?l.restService.showAlert("Error",n.message):(l.restService.showAlert("Success",n.message),l.goBack())},function(n){l.restService.hideLoader(),l.restService.showAlert("Notice",n.error?l.restService.setErrorMessageArray(n.error.message):n.statusText)}),e.label=4;case 4:return[2]}})})},n}(),r=function(){},i=e("pMnS"),c=e("a18t"),s=e("fECr"),d=e("apKv"),g=e("tXrQ"),p=e("ntG5"),h=e("M9A9"),f=e("ZYCi"),v=e("uhuC"),b=e("gIcY"),C=e("Zq1E"),_=t.La({encapsulation:0,styles:[[".category_area[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;--inner-padding-end:0;width:100%}.category_area[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{background:#191242;width:100%;max-width:100%}.description_area[_ngcontent-%COMP%]{background:#191242;height:85%}.description_area[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#fff;height:85%}.footer_add_note[_ngcontent-%COMP%]{--padding-end:0;--padding-start:0;--padding-bottom:0;--padding-top:0;--min-height:aut0}.footer_add_note[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{width:50%;float:left;--padding-end:0;--padding-start:0;margin-left:0;margin-right:0}.footer_add_note[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;text-align:center}.footer_add_note[_ngcontent-%COMP%]   ion-buttons.add_note_btn_submit[_ngcontent-%COMP%]{background:#9b1f60}.footer_add_note[_ngcontent-%COMP%]   ion-buttons.add_note_btn_cancel[_ngcontent-%COMP%]{background:#191242}"]],data:{}});function M(n){return t.bb(0,[(n()(),t.Na(0,0,null,null,1,"app-header",[],null,null,null,c.b,c.a)),t.Ma(1,114688,null,0,s.a,[d.a,a.a,t.x,g.a],{showProperty:[0,"showProperty"],pageName:[1,"pageName"]},null),(n()(),t.Na(2,0,null,null,30,"ion-content",[["padding",""],["text-center",""]],null,null,null,null,null)),t.Ma(3,16384,null,0,p.r,[t.k],null,null),(n()(),t.Na(4,0,null,null,18,"ion-item",[["class","category_area"]],null,[[null,"click"]],function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Wa(n,6).onClick(e)&&a),a},null,null)),t.Ma(5,16384,null,0,p.F,[t.k],null,null),t.Ma(6,16384,null,0,h.a,[[2,f.l],t.k],null,null),(n()(),t.Na(7,0,null,null,15,"ion-select",[["interface","popover"],["placeholder","SELECT CATEGORY"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var a=!0,u=n.component;return"ionChange"===l&&(a=!1!==t.Wa(n,8)._handleChangeEvent(e.target.value)&&a),"ionBlur"===l&&(a=!1!==t.Wa(n,8)._handleBlurEvent()&&a),"ngModelChange"===l&&(a=!1!==(u.category=e)&&a),a},null,null)),t.Ma(8,16384,null,0,v.a,[t.k],null,null),t.Ya(1024,null,b.b,function(n){return[n]},[v.a]),t.Ma(10,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ya(2048,null,b.c,null,[b.e]),t.Ma(12,16384,null,0,b.d,[[4,b.c]],null,null),t.Ma(13,16384,null,0,p.Ia,[t.k],{placeholder:[0,"placeholder"],interface:[1,"interface"]},{ionChange:"ionChange",ionBlur:"ionBlur"}),(n()(),t.Na(14,0,null,null,2,"ion-select-option",[["value","notice"]],null,null,null,null,null)),t.Ma(15,16384,null,0,p.Ja,[t.k],{value:[0,"value"]},null),(n()(),t.ab(-1,null,["Notice"])),(n()(),t.Na(17,0,null,null,2,"ion-select-option",[["value","warning"]],null,null,null,null,null)),t.Ma(18,16384,null,0,p.Ja,[t.k],{value:[0,"value"]},null),(n()(),t.ab(-1,null,["Warning"])),(n()(),t.Na(20,0,null,null,2,"ion-select-option",[["value","violation"]],null,null,null,null,null)),t.Ma(21,16384,null,0,p.Ja,[t.k],{value:[0,"value"]},null),(n()(),t.ab(-1,null,["Violation"])),(n()(),t.Na(23,0,null,null,9,"ion-item",[["class","description_area"]],null,[[null,"click"]],function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Wa(n,25).onClick(e)&&a),a},null,null)),t.Ma(24,16384,null,0,p.F,[t.k],null,null),t.Ma(25,16384,null,0,h.a,[[2,f.l],t.k],null,null),(n()(),t.Na(26,0,null,null,6,"ion-textarea",[["placeholder","Add note here..."],["rows","21"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"]],function(n,l,e){var a=!0,u=n.component;return"input"===l&&(a=!1!==t.Wa(n,27)._handleInputEvent(e.target.value)&&a),"ionBlur"===l&&(a=!1!==t.Wa(n,27)._handleBlurEvent()&&a),"ngModelChange"===l&&(a=!1!==(u.description=e)&&a),a},null,null)),t.Ma(27,16384,null,0,C.a,[t.k],null,null),t.Ya(1024,null,b.b,function(n){return[n]},[C.a]),t.Ma(29,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ya(2048,null,b.c,null,[b.e]),t.Ma(31,16384,null,0,b.d,[[4,b.c]],null,null),t.Ma(32,16384,null,0,p.Ua,[t.k],{placeholder:[0,"placeholder"],rows:[1,"rows"]},{ionBlur:"ionBlur"}),(n()(),t.Na(33,0,null,null,19,"ion-footer",[],null,null,null,null,null)),t.Ma(34,16384,null,0,p.w,[t.k],null,null),(n()(),t.Na(35,0,null,null,17,"ion-toolbar",[["class","footer_add_note"]],null,null,null,null,null)),t.Ma(36,16384,null,0,p.Xa,[t.k],null,null),(n()(),t.Na(37,0,null,null,7,"ion-buttons",[["class","add_note_btn_cancel"],["slot","start"],["text-center",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goBack()&&t),t},null,null)),t.Ma(38,16384,null,0,p.g,[],null,null),(n()(),t.Na(39,0,null,null,5,"ion-button",[],null,[[null,"click"]],function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Wa(n,41).onClick(e)&&a),a},null,null)),t.Ma(40,16384,null,0,p.f,[t.k],null,null),t.Ma(41,16384,null,0,h.a,[[2,f.l],t.k],null,null),(n()(),t.Na(42,0,null,null,2,"ion-label",[],null,null,null,null,null)),t.Ma(43,16384,null,0,p.L,[t.k],null,null),(n()(),t.ab(-1,null,["CANCEL"])),(n()(),t.Na(45,0,null,null,7,"ion-buttons",[["class","add_note_btn_submit"],["slot","end"],["text-center",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addNotes()&&t),t},null,null)),t.Ma(46,16384,null,0,p.g,[],null,null),(n()(),t.Na(47,0,null,null,5,"ion-button",[],null,[[null,"click"]],function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Wa(n,49).onClick(e)&&a),a},null,null)),t.Ma(48,16384,null,0,p.f,[t.k],null,null),t.Ma(49,16384,null,0,h.a,[[2,f.l],t.k],null,null),(n()(),t.Na(50,0,null,null,2,"ion-label",[],null,null,null,null,null)),t.Ma(51,16384,null,0,p.L,[t.k],null,null),(n()(),t.ab(-1,null,["SUBMIT"]))],function(n,l){var e=l.component;n(l,1,0,e.showProperty,e.pageName),n(l,10,0,e.category),n(l,13,0,"SELECT CATEGORY","popover"),n(l,15,0,"notice"),n(l,18,0,"warning"),n(l,21,0,"violation"),n(l,29,0,e.description),n(l,32,0,"Add note here...","21")},function(n,l){n(l,7,0,t.Wa(l,12).ngClassUntouched,t.Wa(l,12).ngClassTouched,t.Wa(l,12).ngClassPristine,t.Wa(l,12).ngClassDirty,t.Wa(l,12).ngClassValid,t.Wa(l,12).ngClassInvalid,t.Wa(l,12).ngClassPending),n(l,26,0,t.Wa(l,31).ngClassUntouched,t.Wa(l,31).ngClassTouched,t.Wa(l,31).ngClassPristine,t.Wa(l,31).ngClassDirty,t.Wa(l,31).ngClassValid,t.Wa(l,31).ngClassInvalid,t.Wa(l,31).ngClassPending)})}var k=t.Ja("app-add-note",o,function(n){return t.bb(0,[(n()(),t.Na(0,0,null,null,1,"app-add-note",[],null,null,null,M,_)),t.Ma(1,114688,null,0,o,[a.a,f.a,g.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),m=e("Ip0R"),y=e("95zI"),w=e("9opb"),N=e("B4/3"),P=e("PCNd");e.d(l,"AddNotePageModuleNgFactory",function(){return W});var W=t.Ka(r,[],function(n){return t.Ua([t.Va(512,t.j,t.Z,[[8,[i.a,k]],[3,t.j],t.v]),t.Va(4608,m.l,m.k,[t.s,[2,m.s]]),t.Va(4608,b.g,b.g,[]),t.Va(4608,y.a,y.a,[t.x,t.g]),t.Va(4608,w.a,w.a,[y.a,t.j,t.p]),t.Va(4608,d.a,d.a,[y.a,t.j,t.p]),t.Va(1073742336,m.b,m.b,[]),t.Va(1073742336,b.f,b.f,[]),t.Va(1073742336,b.a,b.a,[]),t.Va(1073742336,N.a,N.a,[]),t.Va(1073742336,P.a,P.a,[]),t.Va(1073742336,f.m,f.m,[[2,f.s],[2,f.l]]),t.Va(1073742336,r,r,[]),t.Va(1024,f.j,function(){return[[{path:"",component:o}]]},[])])})}}]);